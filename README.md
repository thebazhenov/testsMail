 # üìß testsMailProject

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è UI –∏ API –ø–æ—á—Ç–æ–≤–æ–≥–æ –≤–µ–±-–∫–ª–∏–µ–Ω—Ç–∞.

## üì¶ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **Python** + **pytest** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
- **Playwright** ‚Äî –¥–ª—è UI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Allure** ‚Äî –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤
- **Docker + docker-compose** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **Jenkins** ‚Äî CI/CD –ø–∞–π–ø–ª–∞–π–Ω
- **Pydantic** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **requests** ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

## üß™ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
testsMailProject/
‚îÇ
‚îú‚îÄ‚îÄ config/                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ name module/   # –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç
‚îÇ           ‚îú‚îÄ‚îÄ models/    # Pydantic –º–æ–¥–µ–ª—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ json
‚îÇ   ‚îú‚îÄ‚îÄ ui/  
‚îÇ       ‚îú‚îÄ‚îÄ pages/   # PageObject 
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ api/               # –¢–µ—Å—Ç—ã API
‚îÇ   ‚îî‚îÄ‚îÄ ui/                # –¢–µ—Å—Ç—ã UI
‚îÇ
‚îú‚îÄ‚îÄ conftest.py            # –û–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ pytest.ini             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ docker-compose.yml     # –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ Jenkinsfile            # –°–∫—Ä–∏–ø—Ç CI –¥–ª—è Jenkins
‚îú‚îÄ‚îÄ .env                   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/thebazhenov/testsMail.git
cd testsMailProject
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

### 3. –ó–∞–ø—É—Å–∫ Docker-–æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
docker-compose up -d
```

### 4. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

- –í—Å–µ —Ç–µ—Å—Ç—ã:

```bash
pytest
```

- UI —Ç–µ—Å—Ç—ã:

```bash
pytest -m ui
```

- API —Ç–µ—Å—Ç—ã:

```bash
pytest -m api
```

### 5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Allure –æ—Ç—á–µ—Ç–∞

```bash
pytest --alluredir=allure-results
allure serve allure-results
```

## ‚öôÔ∏è Jenkins

–í Jenkins –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π pipeline:

- `BROWSER` ‚Äî –≤—ã–±–æ—Ä –±—Ä–∞—É–∑–µ—Ä–∞: `chromium`, `firefox`, `webkit`
- `MARKER` ‚Äî –≤—ã–±–æ—Ä –≥—Ä—É–ø–ø—ã —Ç–µ—Å—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ui`, `api`)

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –≤ Jenkins:

```groovy
parameters {
    choice(name: 'BROWSER', choices: ['chromium', 'firefox', 'webkit'], description: 'Browser')
    string(name: 'MARKER', defaultValue: 'ui', description: 'Pytest marker')
}
```

## ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

- `@pytest.mark.ui` ‚Äî UI —Ç–µ—Å—Ç—ã
- `@pytest.mark.api` ‚Äî API —Ç–µ—Å—Ç—ã

## üìÅ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞ –∏ —É–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```env
USERNAME=test@localhost.com
PASSWORD=test
```

## üìå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–°–º. `requirements.txt` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫.

